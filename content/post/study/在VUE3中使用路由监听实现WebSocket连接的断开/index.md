---
title: "在VUE3中使用路由监听实现WebSocket连接的断开"
date: 2022-04-19T00:26:00+08:00
description: "在开发MyLouise前端部分的时候用到了WebSocket实现日志的实时输出，但是在前端切换路由过后，WebSocket连接并不会主动断开，Interval函数会不停的访问空WebSocket对象的data属性，导致在控制台输出大量错误日志，这篇文章记录了如何修复这个问题的过程"
draft: true
categories: 学习资料
---

## 背景

首先介绍功能背景

为了实现后端的日志能够实时输出到前端，我在后端写了一个线程用于循环读取项目产生的日志文件，每当文件有新的一行添加时，就会使用WebSocket连接向前端发送格式化为HTML格式的字符串，前端再利用VUE3的MVVW模型实现数据视图的实时更新

为了达到这个效果，前端需要在打开日志页面时，向后端发起建立WebSocket协议的请求，
